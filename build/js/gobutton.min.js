!function(t){t.fn.gobutton=function(n){function i(t){if(0===t.button){this.waveInd++;var n=document.createElement("div");n.classList.add("shade"),n.style.backgroundColor=u(window.getComputedStyle(this).backgroundColor),this.appendChild(n)}}function o(t){if(0===t.button){var n=this.querySelectorAll(".shade")[this.waveInd];n.mouseupEnd=!0,n.animationEnd&&(n.parentNode.removeChild(n),this.waveInd--)}}function e(t){var n=t.target;n.animationEnd=!0,n.mouseupEnd&&(n.parentNode.removeChild(n),this.waveInd--)}function a(){this.$content_loader[0].classList.contains("spin")?c.call(this):s.call(this)}function s(){this.$content_loader[0].classList.add("spin"),this.$content_loader[0].classList.remove("stopspin"),this.$content_loader[0].style.animation=l.call(this)}function r(t){this.$content_loader[0].classList.add("spin"),this.$content_loader[0].classList.remove("stopspin"),this.$content_loader[0].style.animation="infinitespin "+(t||.12)+"s linear 0s infinite"}function c(){this.$content_loader[0].classList.add("stopspin"),this.$content_loader[0].classList.remove("spin"),this.$content_loader[0].style.animation="stop 0.5s linear 0s 1"}function l(){var t=this.animation.speed,n=this.animation.infiniteSpin,i=2.5*t/100;i=i<.12?.12:i;var o={base:"spin "+t+"s cubic-bezier(0.880, 0.160, 1.000, 0.985) 0.1s 1",stopWithDelay:" stopspin 0.5s linear "+t+"s 1",infinite:" infinitespin "+i+"s linear "+t+"s infinite"};return o.base+", "+(n?o.infinite:o.stopWithDelay)}function d(t){if(-1!==t.indexOf("rgba")){var n=t.split(",");return n[3]=".2)",n.join(",")}return-1!==t.indexOf("rgb")?t.replace("(","a(").replace(")",",.2)"):/^#([A-Fa-f0-9]{3}){1,2}$/.test(t)?p(f(t),.2):"rgba(0,0,0,0)"}function p(t,n){var i="0x"+t;return"rgba("+[i>>16&255,i>>8&255,255&i].join(",")+","+n+")"}function u(t){var n=t.split(",");return n[0]=n[0].split("(")[1],n.push(n.pop().split(")")[0]),m(h(parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)))}function h(t,n,i){return((1<<24)+(t<<16)+(n<<8)+i).toString(16).slice(1)}function f(t){var n;return n=t.substring(1).split(""),3===n.length&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),n.join("")}function m(t){return parseInt(t,16)>8388607.5?"rgba(86, 77, 77, 0.3)":"rgba(214, 205, 205, 0.2)"}function v(){}var b,g,$,_;return $=t('<div><svg width="101px" height="101px" viewBox="1310 528 101 101" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="rotate"><desc>Created with Sketch.</desc><defs><linearGradient x1="69.3641269%" y1="96.8508376%" x2="60.2027223%" y2="81.443299%" id="gradient"><stop stop-color="#FFFFFF" offset="0%"></stop><stop stop-color="#FFFFFF" stop-opacity="0" offset="90%"></stop></linearGradient></defs><path d="M1368.7985,626.292822 C1391.63073,622.356234 1409,602.456522 1409,578.5 C1409,551.71419 1387.28581,530 1360.5,530 C1333.71419,530 1312,551.71419 1312,578.5 C1312,599.965964 1325.94552,618.174777 1345.27099,624.560849" id="oval" stroke="url(#gradient)" stroke-width="4" stroke-linecap="round" fill="none"></path></svg></div>'),_=t('<div class="circle gobutton"><div class="loader"></div></div>'),b=t.extend({size:"70",color:"",loaderGap:"4",loaderColor:"#fff",loaderWidth:"4",infiniteSpin:!1,animationSpeed:2.5,waves:!0,classes:"",disable:!1,onStop:null,onStart:null,onAnimationStop:null,onAnimationStart:null},n),g={size:function(t){t={width:t+"px",height:t+"px"},this.$content_wrap.css(t),this.$content_button.css(t)},disable:function(t){this.$content_button[0].disabled=t},color:function(t){this.$content_button.css({"background-color":t})},loaderGap:function(t){this.$content_wrap.css("padding",t+"px")},loaderColor:function(t){this.$loader_img.find("#gradient stop").attr("stop-color",t),this.$content_loader.css({"background-image":"url(data:image/svg+xml;base64,"+window.btoa(this.$loader_img.html())+")","background-color":d(t)})},loaderWidth:function(t){this.$loader_img.find("#oval").attr("stroke-width",t),this.$content_loader.css({"background-image":"url(data:image/svg+xml;base64,"+window.btoa(this.$loader_img.html())+")"})},infiniteSpin:function(t){this.animation.infiniteSpin=t},animationSpeed:function(t){this.animation.speed=t},waves:function(t){t?(this.$content_button[0].waveInd=-1,this.$content_button[0].addEventListener("mousedown",i),this.$content_button[0].addEventListener("mouseup",o),this.$content_button[0].addEventListener("animationend",e)):(delete this.$content_button[0].waveInd,this.$content_button[0].removeEventListener("mousedown",i),this.$content_button[0].removeEventListener("mouseup",o),this.$content_button[0].removeEventListener("animationend",e))},classes:function(t){this.$content_wrap.addClass(t)},onStop:function(t){this.onStop=t||v},onStart:function(t){this.onStart=t||v},onAnimationStop:function(t){this.onAnimationStop=t||v},onAnimationStart:function(t){this.onAnimationStart=t||v}},this.each(function(){if("BUTTON"===this.tagName){this.classList.add("main"),this.classList.add("circle");var n=t(this),i=this.gobutton={};i.$loader_img=$.clone(),i.$content_wrap=_.clone(),n.after(i.$content_wrap),i.$content_wrap.append(this),i.$content_button=i.$content_wrap.find(".main"),i.$content_loader=i.$content_wrap.find(".loader"),i.animation={speed:"",infiniteSpin:!1},i.start=function(){s.call(i)},i.infiniteStart=function(t){r.call(i,t)},i.stop=function(){c.call(i)},i.changeOption=function(t,n){if(t instanceof Object)for(var o in t)g.hasOwnProperty(o)&&g[o].call(i,t[o]);else"string"==typeof t&&g[t].call(i,n)},i.$content_button[0].addEventListener("mouseup",function(t){0===t.button&&a.call(i)}),i.$content_button[0].disabled=b.disabled,i.$content_loader[0].addEventListener("animationstart",function(t){switch(t.animationName){case"spin":i.onStart.call(i);break;case"stopspin":this.classList.remove("spin")}i.onAnimationStart.call(i,t)}),i.$content_loader[0].addEventListener("animationend",function(t){i.onAnimationStop.call(i,t),"stopspin"!==t.animationName&&"stop"!==t.animationName||(this.classList.remove("spin"),this.style.animation="",i.onStop.call(i))});for(var o in b)if(g.hasOwnProperty(o))try{g[o].call(i,b[o])}catch(t){console.error(t)}}})}}(jQuery);